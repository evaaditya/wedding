<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan Argha & Eva</title>
    <!-- Tailwind CSS CDN (MUST be loaded BEFORE tailwind.config) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind CSS Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#4A2C2A',    // Dark Brown
                        'primary-red': '#8B0000',     // Dark Red / Maroon
                        'primary-medium': '#A0522D',  // Medium Brown / Sienna
                        'primary-light': '#D2B48C',   // Light Brown / Tan / Gold-ish
                        'background-cream': '#FFFDD0', // Cream / Off-white
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        // Menggunakan 'Dynalight' sebagai font utama untuk judul.
                        // Jika tidak tersedia, akan fallback ke 'Playfair Display' atau 'cursive'.
                        playfair: ['Dynalight', 'Playfair Display', 'cursive'],
                        spacemono: ['Space Mono', 'monospace'],
                    }
                }
            }
        }
    </script>
    <!-- Memuat font Dynalight, Playfair Display, dan Inter dari Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@400;700&family=Space+Mono&family=Dynalight&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Pastikan elemen html dan body mengisi seluruh viewport */
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Mencegah scroll horizontal */
        }

        /* Reset default browser margins/padding untuk semua elemen */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f8f8; /* Tetap pertahankan latar belakang terang untuk keterbacaan */
            color: #333; /* Tetap pertahankan teks gelap untuk keterbacaan */
        }
        /* Menggunakan font Dynalight sebagai font utama untuk h1, h2, h3 */
        h1, h2, h3 {
            font-family: 'Dynalight', 'Playfair Display', cursive;
        }
        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 2rem;
            color: white; /* Changed to white for better contrast on transparent background */
        }
        .section-title::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -10px;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background-color: var(--tw-colors-primary-medium); /* Menggunakan variabel CSS untuk warna */
            border-radius: 9999px;
        }
        /* Status animasi awal */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease-out, transform 1s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .animate-fade-in {
            opacity: 0;
            transition: opacity 1.5s ease-out;
        }
        .animate-fade-in.is-visible {
            opacity: 1;
        }

        /* Overlay Halaman Pembuka */
        #cover-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Gunakan gradien atau warna solid dari palet untuk overlay */
            background: linear-gradient(rgba(74, 44, 42, 0.8), rgba(139, 0, 0, 0.8)), url('file/cover.jpg') no-repeat center center/cover;
            background-attachment: fixed;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 1000;
            transition: opacity 1s ease-out;
        }
        #cover-page.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Main Content Background */
        #main-content {
            background: linear-gradient(rgba(74, 44, 42, 0.6), rgba(139, 0, 0, 0.6)), url('file/bg2.jpg') no-repeat center center/cover;
            background-attachment: fixed;
            /* Pastikan main-content memiliki display yang sesuai saat tidak hidden */
            min-height: 100vh; /* Pastikan cukup tinggi untuk menampilkan background */
        }

        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 999;
            transition: background-color 0.3s ease;
        }
        .music-control:hover {
            background-color: rgba(255, 255, 255, 1);
        }
        .music-control i {
            color: var(--tw-colors-primary-red); /* Merah Tua dari palet */
            font-size: 1.5rem;
        }

        /* Gaya untuk kartu ATM */
        .atm-card {
            width: 100%;
            max-width: 400px; /* Lebar maksimum kartu */
            aspect-ratio: 1.585 / 1; /* Rasio aspek kartu kredit standar */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--tw-colors-primary-dark), var(--tw-colors-primary-red)); /* Gradien dari palet */
            border-radius: 1rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            color: white;
            position: relative;
            overflow: hidden;
        }
        .atm-card::before {
            content: '';
            position: absolute;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.15), transparent 70%);
            transform: rotate(20deg);
            pointer-events: none;
        }
        .atm-card .chip {
            width: 40px;
            height: 30px;
            background-color: var(--tw-colors-primary-light); /* Warna emas dari palet */
            border-radius: 5px;
            margin-bottom: 1rem;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
        }
        .atm-card .bank-logo-card {
            max-height: 40px;
            width: auto;
            margin-bottom: 0.5rem;
        }
        .atm-card .card-number-group {
            display: flex;
            align-items: center;
            justify-content: space-between; /* Untuk menempatkan tombol salin di kanan */
            margin-bottom: 1rem;
        }
        .atm-card .card-number {
            font-family: 'Space Mono', monospace;
            font-size: 1.5rem;
            letter-spacing: 2px;
            flex-grow: 1; /* Memungkinkan nomor rekening mengambil ruang yang tersedia */
        }
        .atm-card .copy-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s ease;
        }
        .atm-card .copy-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        .atm-card .copy-feedback {
            font-size: 0.8rem;
            color: var(--tw-colors-primary-light); /* Warna dari palet */
            margin-left: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        .atm-card .copy-feedback.show {
            opacity: 1;
        }

        .atm-card .card-holder-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        .atm-card .card-holder-info div {
            flex-grow: 1;
        }
        .atm-card .card-name {
            font-size: 1.1rem;
            font-weight: bold;
            text-align: right;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>

    <!-- Cover Page Overlay -->
    <div id="cover-page">
        <div class="text-center p-8 rounded-xl max-w-2xl w-full mx-auto">
            <p class="text-xl md:text-2xl mb-4 font-semibold font-playfair">The Wedding Of</p>
            <h1 class="text-5xl md:text-7xl font-bold text-primary-light mb-4 leading-tight font-playfair">Argha & Eva</h1>
            <!-- Teks "Kepada Yth. Bapak/Ibu/Saudara/i" yang dapat diubah di kode HTML -->
            <p id="guest-name" class="text-xl md:text-3xl mb-8 font-medium font-playfair">Kepada Bapak/Ibu/Teman-teman/Sahabat</p>
            <button id="open-invitation-btn" class="bg-primary-medium hover:bg-primary-red text-white font-bold py-4 px-10 rounded-full text-xl transition duration-300 ease-in-out transform hover:scale-105 shadow-lg font-inter">
                Buka Undangan
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="hidden">
        <!-- Bagian Mempelai -->
        <section id="mempelai" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Mempelai</h2>
                <div class="flex flex-col md:flex-row items-center justify-center space-y-8 md:space-y-0 md:space-x-12">
                    <div class="flex flex-col items-center">
                        <img src="file/ml.jpg" alt="Mempelai Pria Argha" class="w-48 h-48 rounded-full object-cover shadow-lg mb-4 border-4 border-primary-dark">
                        <h3 class="text-2xl font-semibold font-playfair">Argha Aditya FN</h3>
                        <p class="font-inter">Putra dari Bapak Hari & Ibu Wahyuningsih</p>
                    </div>
                    <div class="text-5xl font-bold text-primary-red hidden md:block font-playfair">&amp;</div>
                    <div class="flex flex-col items-center">
                        <img src="file/mp.jpg" alt="Mempelai Wanita Eva" class="w-48 h-48 rounded-full object-cover shadow-lg mb-4 border-4 border-primary-red">
                        <h3 class="text-2xl font-semibold font-playfair">Eva Dwi Jayanti</h3>
                        <p class="font-inter">Putri dari Bapak Sumardi & Ibu Miatun </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bagian Acara -->
        <section id="acara" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Detail Acara</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Acara Pemberkatan/Akad Nikah -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-primary-medium text-gray-700">
                        <h3 class="text-3xl font-semibold text-primary-dark mb-4 font-playfair">Akad Nikah</h3>
                        <p class="text-lg mb-2 font-inter"><span class="font-bold">Tanggal:</span> Sabtu, 06 September 2025</p>
                        <p class="text-lg mb-2 font-inter"><span class="font-bold">Waktu:</span> 08:00 WIB</p>
                        <p class="text-lg mb-4 font-inter"><span class="font-bold">Lokasi:</span> Dusun Jumbleng RT 04/RW 05, Desa Wonokerto, Kec. Bancak, Kab. Semarang</p>
                        <a href="https://maps.app.goo.gl/beas9FRrV78hjK8E7" target="_blank" class="inline-block bg-primary-dark hover:bg-[#5C4033] text-white font-bold py-3 px-6 rounded-full transition duration-300 ease-in-out transform hover:scale-105 font-inter">Lihat di Maps</a>
                    </div>

                    <!-- Acara Resepsi -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-primary-light text-gray-700">
                        <h3 class="text-3xl font-semibold text-primary-red mb-4 font-playfair">Resepsi</h3>
                        <p class="text-lg mb-2 font-inter"><span class="font-bold">Tanggal:</span> Sabtu, 06 September 2025</p>
                        <p class="text-lg mb-2 font-inter"><span class="font-bold">Waktu:</span> 09:00 WIB - Selesai </p>
                        <p class="text-lg mb-4 font-inter"><span class="font-bold">Lokasi:</span> Dusun Jumbleng RT 04/RW 05, Desa Wonokerto, Kec. Bancak, Kab. Semarang</p>
                        <a href="https://maps.app.goo.gl/beas9FRrV78hjK8E7" target="_blank" class="inline-block bg-primary-red hover:bg-[#A52A2A] text-white font-bold py-3 px-6 rounded-full transition duration-300 ease-in-out transform hover:scale-105 font-inter">Lihat di Maps</a>
                    </div>
                </div>
                <div class="mt-12">
                    <button id="add-to-calendar-btn" class="bg-primary-red hover:bg-[#A52A2A] text-white font-bold py-3 px-6 rounded-full transition duration-300 ease-in-out transform hover:scale-105 font-inter">
                        <i class="fas fa-calendar-alt mr-2"></i> Tambahkan ke Kalender
                    </button>
                </div>
            </div>
        </section>

        <!-- Bagian Ayat Al-Quran -->
        <section id="ayat-quran" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Ayat Suci Al-Quran</h2>
                <div class="text-lg leading-relaxed text-center font-inter">
                    <p class="mb-4 text-right text-3xl leading-relaxed" style="font-family: 'Traditional Arabic', 'Times New Roman', serif;">
                        وَمِنْ آيَاتِهِ أَنْ خَلَقَ لَكُمْ مِنْ أَنْفُسِكُمْ أَزْوَاجًا لِتَسْكُنُوا إِلَيْهَا وَجَعَلَ بَيْنَكُمْ مَوَدَّةً وَرَحْمَةً ۚ إِنَّ فِي ذَٰلِكَ لَآيَاتٍ لِقَوْمٍ يَتَفَكَّرُونَ
                    </p>
                    <p class="mb-4 italic">
                        "Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu pasangan-pasangan dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya di antaramu rasa kasih dan sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda bagi kaum yang berpikir."
                    </p>
                    <p class="font-semibold text-xl">
                        (QS. Ar-Rum: 21)
                    </p>
                </div>
            </div>
        </section>

        <!-- Bagian Kisah Cinta -->
        <section id="kisah-cinta" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Our Story</h2>
                <div class="text-lg leading-relaxed text-left md:text-center font-inter">
                    <p class="mb-4">
                        Awal mula kami dipertemukan pada tahun 2019. Dari yang awalnya tidak saling mengenal lalu diperkenalkan,komunikasi kami semakin intens dan dekat, hingga akhirnya memutuskan untuk menjalani hubungan sebagai pasangan kekasih pada tanggal 22 April 2019.
                    </p>
                    <p class="mb-4">
                        Seiring berjalannya waktu dalam hubungan ini, sebagai seorang perempuan tentu saya menginginkan kepastian. Hingga akhirnya, pada tanggal 31 Desember 2023, dia datang melamar saya secara resmi, dengan membawa serta orang tuanya ke rumah saya.
                    </p>
                    <p>
                        Sejak saat itu, waktu terus berjalan. Kedua orang tua kami pun sepakat untuk menyegerakan hal baik ini. Kami berdiskusi bersama keluarga besar, dan dengan penuh rasa syukur, akhirnya disepakati bahwa hari pernikahan kami akan dilaksanakan pada hari Sabtu, 6 September 2025.
                        
                        Sekian,
                        sedikit cerita perjalanan kami.
                        Terima kasih telah meluangkan waktu untuk membacanya.
                    </p>
                </div>
            </div>
        </section>

        <!-- Bagian Galeri (Opsional) -->
        <section id="galeri" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Our Memories</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <img src="file/me1.jpg" alt="Foto Pernikahan 1" class="w-full h-auto object-cover rounded-lg shadow-md">
                    <img src="file/me2.jpg" alt="Foto Pernikahan 2" class="w-full h-auto object-cover rounded-lg shadow-md">
                    <img src="file/me3.jpg" alt="Foto Pernikahan 3" class="w-full h-auto object-cover rounded-lg shadow-md">
                    <img src="file/me4.jpg" alt="Foto Pernikahan 4" class="w-full h-auto object-cover rounded-lg shadow-md">
                </div>
            </div>
        </section>

        <!-- Bagian Kado & Doa -->
        <section id="kado-doa" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-2xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Amplop Digital</h2>
                <p class="text-lg mb-8 font-inter">
                    Kehadiran dan doa restu Bapak/Ibu/Saudara/i merupakan anugerah terindah bagi kami. Namun, jika Anda berkeinginan untuk memberikan tanda kasih, dapat disalurkan melalui:
                </p>
                <button id="toggle-bank-info-btn" class="bg-primary-medium hover:bg-primary-red text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-lg font-inter">
                    Kirim Hadiah
                </button>

                <div id="bank-info-container" class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 hidden">
                    <!-- Kartu Bank BRI -->
                    <div class="atm-card">
                        <div class="flex justify-between items-start">
                            <img src="file/bri.png" alt="Logo Bank BRI" class="bank-logo-card">
                            <div class="chip"></div>
                        </div>
                        <div class="card-number-group">
                            <p class="card-number" id="bri-account-number">604601019084532</p>
                            <button class="copy-btn" data-account-target="bri-account-number" aria-label="Salin nomor rekening BRI">
                                <i class="fas fa-copy"></i>
                            </button>
                            <span class="copy-feedback" id="bri-copy-feedback"></span>
                        </div>
                        <div class="card-holder-info">
                            <div>
                                <p class="text-xs opacity-75">Nama Pemilik</p>
                                <p>Eva Dwi Jayanti</p>
                            </div>
                        </div>
                    </div>

                    <!-- Kartu Bank Mandiri -->
                    <div class="atm-card">
                        <div class="flex justify-between items-start">
                            <img src="file/mandiri.png" alt="Logo Bank Mandiri" class="bank-logo-card">
                            <div class="chip"></div>
                        </div>
                        <div class="card-number-group">
                            <p class="card-number" id="mandiri-account-number">1360034870532</p>
                            <button class="copy-btn" data-account-target="mandiri-account-number" aria-label="Salin nomor rekening Mandiri">
                                <i class="fas fa-copy"></i>
                            </button>
                            <span class="copy-feedback" id="mandiri-copy-feedback"></span>
                        </div>
                        <div class="card-holder-info">
                            <div>
                                <p class="text-xs opacity-75">Nama Pemilik</p>
                                <p>Eva Dwi Jayanti</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Bagian Harapan & Doa -->
        <section id="harapan-doa" class="py-16 px-4 bg-transparent text-center animate-on-scroll text-white">
            <div class="max-w-2xl mx-auto">
                <h2 class="text-4xl font-bold mb-12 section-title font-playfair">Harapan & Doa</h2>
                <p class="text-lg leading-relaxed font-inter">
                    Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Teman-teman/Sahabat berkenan hadir untuk memberikan doa restu kepada kedua mempelai.
                    Atas perhatian dan doa restunya, kami ucapkan terima kasih.
                </p>
                <p class="text-xl font-semibold text-primary-medium mt-8 font-playfair">Kami yang berbahagia,</p>
                <p class="text-2xl font-bold text-primary-dark font-playfair">Argha Aditya FN & Eva Dwi Jayanti</p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-primary-dark text-white py-8 px-4 text-center font-inter">
            <p>&copy; 2024 Undangan Pernikahan Argha & Eva. Semua Hak Dilindungi.</p>
        </footer>
    </div>

    <!-- Background Music -->
    <audio id="background-music" loop>
        <!-- Replace with your actual music file URL. Example provided is royalty-free. -->
        <source src="file/wedding.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Music Control Button -->
    <div id="music-control-btn" class="music-control">
        <i class="fas fa-music"></i>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const coverPage = document.getElementById('cover-page');
            const mainContent = document.getElementById('main-content');
            const openInvitationBtn = document.getElementById('open-invitation-btn');
            const guestNameDisplay = document.getElementById('guest-name');
            const backgroundMusic = document.getElementById('background-music');
            const musicControlBtn = document.getElementById('music-control-btn');
            const musicIcon = musicControlBtn.querySelector('i');
            const toggleBankInfoBtn = document.getElementById('toggle-bank-info-btn');
            const bankInfoContainer = document.getElementById('bank-info-container');
            const guestbookForm = document.getElementById('guestbook-form');
            const guestbookNameInput = document.getElementById('guestbook-name');
            const guestbookMessageInput = document.getElementById('guestbook-message-input');
            const guestbookSuccess = document.getElementById('guestbook-success');
            const guestbookError = document.getElementById('guestbook-error');
            const addToCalendarBtn = document.getElementById('add-to-calendar-btn');

            let isPlaying = false; // Initial state for music: not playing

            // --- Guest Name from URL (REMOVED: Now edited directly in HTML) ---
            // The guest name is now set directly in the HTML.
            // If you want to dynamically set it via URL, uncomment the following:
            /*
            const urlParams = new URLSearchParams(window.location.search);
            const guestName = urlParams.get('kpd');
            if (guestName) {
                guestNameDisplay.textContent = `Kepada Yth. ${decodeURIComponent(guestName)}`;
            } else {
                guestNameDisplay.textContent = `Kepada Yth. Bapak/Ibu/Saudara/i`;
            }
            */

            // --- Open Invitation Button ---
            // Fades out the cover page and reveals the main content, then starts music.
            openInvitationBtn.addEventListener('click', function() {
                coverPage.classList.add('hidden'); // Start fade-out animation
                setTimeout(() => {
                    coverPage.style.display = 'none'; // Hide completely after transition
                    mainContent.classList.remove('hidden'); // Show main content
                    // Attempt to play music automatically when invitation is opened
                    backgroundMusic.play().catch(e => console.error("Autoplay prevented:", e));
                }, 1000); // Matches CSS transition duration
            });

            // --- Music Control ---
            // Toggles background music play/pause and updates the icon.
            musicControlBtn.addEventListener('click', function() {
                if (isPlaying) {
                    backgroundMusic.pause();
                    musicIcon.classList.remove('fa-music');
                    musicIcon.classList.add('fa-volume-mute');
                } else {
                    backgroundMusic.play().catch(e => console.error("Play prevented:", e));
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-music');
                }
                isPlaying = !isPlaying; // Update music state
            });

            // Update icon when music state changes by other means (e.g., browser controls)
            backgroundMusic.addEventListener('play', () => {
                isPlaying = true;
                musicIcon.classList.remove('fa-volume-mute');
                musicIcon.classList.add('fa-music');
            });

            backgroundMusic.addEventListener('pause', () => {
                isPlaying = false;
                musicIcon.classList.remove('fa-music');
                musicIcon.classList.add('fa-volume-mute');
            });

            // --- Scroll Animations (Intersection Observer) ---
            // Animates sections into view as they scroll into the viewport.
            const sectionsToAnimate = document.querySelectorAll('.animate-on-scroll');
            const observerOptions = {
                root: null, // relative to the viewport
                rootMargin: '0px',
                threshold: 0.1 // 10% of the target element must be visible
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                    // No 'else' needed here, as we only want to add 'is-visible' once
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            sectionsToAnimate.forEach(section => {
                observer.observe(section);
            });

            // --- Toggle Bank Info ---
            // Toggles the visibility of bank account details.
            if (toggleBankInfoBtn && bankInfoContainer) {
                toggleBankInfoBtn.addEventListener('click', function() {
                    bankInfoContainer.classList.toggle('hidden');
                    if (bankInfoContainer.classList.contains('hidden')) {
                        toggleBankInfoBtn.textContent = 'Tampilkan Rekening Bank';
                    } else {
                        toggleBankInfoBtn.textContent = 'Sembunyikan Rekening Bank';
                    }
                });
            }

            // --- Copy Account Number ---
            // Copies the bank account number to the clipboard and shows feedback.
            document.querySelectorAll('.copy-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.dataset.accountTarget;
                    const accountNumberElement = document.getElementById(targetId);
                    const feedbackElement = document.getElementById(targetId.replace('account-number', 'copy-feedback'));

                    if (accountNumberElement) {
                        const accountNumber = accountNumberElement.textContent.trim().replace(/\s/g, ''); // Remove spaces for copying

                        // Create a temporary textarea element to copy the text
                        const tempTextArea = document.createElement('textarea');
                        tempTextArea.value = accountNumber;
                        document.body.appendChild(tempTextArea);
                        tempTextArea.select();

                        try {
                            document.execCommand('copy'); // Use execCommand for broader compatibility in iframes
                            if (feedbackElement) {
                                feedbackElement.textContent = 'Disalin!';
                                feedbackElement.classList.add('show');
                                setTimeout(() => {
                                    feedbackElement.classList.remove('show');
                                    feedbackElement.textContent = '';
                                }, 2000); // Hide feedback after 2 seconds
                            }
                        } catch (err) {
                            console.error('Gagal menyalin teks: ', err);
                            if (feedbackElement) {
                                feedbackElement.textContent = 'Gagal menyalin.';
                                feedbackElement.classList.add('show');
                                setTimeout(() => {
                                    feedbackElement.classList.remove('show');
                                    feedbackElement.textContent = '';
                                }, 2000);
                            }
                        } finally {
                            document.body.removeChild(tempTextArea); // Clean up temporary element
                        }
                    }
                });
            });

            // --- Guestbook Form Submission ---
            // Handles client-side validation for the guestbook form.
            guestbookForm.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission

                const name = guestbookNameInput.value.trim();
                const message = guestbookMessageInput.value.trim();

                // Reset feedback messages
                guestbookSuccess.classList.add('hidden');
                guestbookError.classList.add('hidden');

                if (name === '' || message === '') {
                    guestbookError.classList.remove('hidden');
                    guestbookError.textContent = 'Nama dan pesan tidak boleh kosong.';
                } else {
                    // In a real application, you would send this data to a backend server.
                    // For now, we just show a success message.
                    console.log('Guestbook Submission:', { name, message });
                    guestbookSuccess.classList.remove('hidden');
                    guestbookSuccess.textContent = 'Terima kasih! Pesan Anda telah kami terima.';

                    // Clear form fields after successful (simulated) submission
                    guestbookNameInput.value = '';
                    guestbookMessageInput.value = '';

                    // Hide success message after a few seconds
                    setTimeout(() => {
                        guestbookSuccess.classList.add('hidden');
                    }, 5000);
                }
            });

            // --- Add to Calendar Functionality ---
            // Generates an ICS file for adding the event to a calendar.
            addToCalendarBtn.addEventListener('click', function() {
                const event = {
                    title: 'Pernikahan Argha & Eva',
                    description: 'Pemberkatan/Akad Nikah Argha Aditama & Eva Putriani dilanjutkan dengan Resepsi.',
                    location: 'Gereja Katedral Jakarta & Balai Kartini, Jakarta',
                    startDate: '2024-10-12T09:00:00', // Format:YYYY-MM-DDTHH:MM:SS
                    endDate: '2024-10-12T17:00:00'
                };

                const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//ArghaEvaWedding//NONSGML v1.0//EN
BEGIN:VEVENT
UID:${new Date().getTime()}@arghaeva.com
DTSTAMP:${new Date().toISOString().replace(/[-:]|\.\d{3}/g, '')}Z
DTSTART:${event.startDate.replace(/[-:]/g, '')}
DTEND:${event.endDate.replace(/[-:]/g, '')}
SUMMARY:${event.title}
DESCRIPTION:${event.description}
LOCATION:${event.location}
END:VEVENT
END:VCALENDAR`;

                const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Pernikahan_Argha_Eva.ics';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url); // Clean up the URL object
            });
        });
    </script>

</body>
</html>
